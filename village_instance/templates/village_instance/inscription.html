{%  extends 'global_presentation/main.html' %}

{% block content %}

{% load static %}

{% include "global_presentation/messages.html" %}
{% include "global_presentation/form_errors.html" with form=form %}
{% include "global_presentation/form_errors.html" with form=profile_form %}

<div class="container white_bg mt-4 mb-5 pb-3" style='background-image:url("{% static '/imgs/white_transparent_bg.png' %}");'>

	<h1 class="text-center my-text-secondary small-partial-border">
		 Inscription </h1>

	<div class="row text-center">
		<div class="offset-3 col-6 alert alert-warning">
			Attention, les inscriptions sont effectués aux noms des communes,
			vous devez donc être en droit de représenter une commune pour créer
			son espace de dématérialisation.
		</div>
	</div>

	<form method="POST" enctype="multipart/form-data" action="">
	{% csrf_token %}


		<p><span class="asterix-style">*</span> Champ Obligatoire</p>
		<h3 class="my-5">Votre compte</h3>

		<div class="row my-3 align-items-center">
			<div class="col-12 col-md-5">
				<label for="username" class="my-text-secondary">Nom d'utilisateur <span class="asterix-style">*</span></label>
				<br> {{form.username}}
			</div>
			<div class="col-12 col-md-7" style="vertical-align: bottom;">
				<i class="text-muted">Ne peut inclure que des lettres, chiffres et @.+-_ </i>
			</div>
		</div>

		<div class="row my-3 align-items-center">
			<div class="col-12 col-md-5">
				<label for="password1" class="my-text-secondary">Mot de passe <span class="asterix-style">*</span></label>
				<br> {{form.password2}} <br> {{form.password1}} (Confirmation)
			</div>
			<div class="col-12 col-md-7">
				<i class="text-muted ">Pour des raisons de sécurité, votre mot de passe
					doit être différent de votre nom d'utilisateur et de votre mail,
					il doit être long d'au moins 8 caractères,
					ne doit pas être composé uniquement de chiffres et ne doit pas apparaître
					sur une liste de mot de passe communs.</i>
			</div>
		</div>

		<h3 class="my-5">Votre commune</h3>

		<div class="row my-3 align-items-center">
			<div class="col-12 col-md-5">
				<label for="name" class="my-text-secondary">Nom de votre commune <span class="asterix-style">*</span></label>
				<br> {{profile_form.name}}
			</div>
		</div>
		<div class="row my-3 align-items-center">
			<div class="col-12 col-md-5">
				<label for="url" class="my-text-secondary">Adresse de la page citoyen de votre commune <span class="asterix-style">*</span></label>
				<br> {{profile_form.url}}
			</div>
			<div class="col-12 col-md-7" style="vertical-align: bottom;">
				<i class="text-muted">	Votre espace citoyen sera accessible à demarches-villages.fr/{adresse}.
					Cela implique que cette adresse ne doit comporter ni accent ni espace ni symboles spéciaux
					autres que - et _. </i>
			</div>
		</div>
		<div class="row my-3 align-items-center">
			<div class="col-12 col-md-5">
				<label for="email" class="my-text-secondary">Email <span class="asterix-style">*</span></label>
				<br> {{form.email}}
			</div>
			<div class="col-12 col-md-7" style="vertical-align: bottom;">
				<i class="text-muted">Adresse mail liée au compte et à laquelle les demandes des administrés vont être transmises. </i>
			</div>
		</div>
		<div class="row my-3 align-items-center">
			<div class="col-12 col-md-5">
				<label for="postal_code" class="my-text-secondary">Code Postal <span class="asterix-style">*</span></label>
				<br> {{profile_form.postal_code}}
			</div>
		</div>
		<div class="row my-3 align-items-center">
			<div class="col-12 col-md-5">
				<label for="profile_image" class="my-text-secondary">Logo :</label>
				<br> {{profile_form.profile_image}}
			</div>
			<div class="col-12 col-md-7" style="vertical-align: bottom;">
				<i class="text-muted">5Mb max. S'affichera en haut à gauche de vos pages.</i>
			</div>
		</div>
		<div class="my-5 center">
			En validant la création d'un espace de dématérialisation,
			je déclare avoir l'autorisation de le faire au nom de la commune que j'inscris.
<br>
			Une fausse déclaration constitue une usurpation d'identité d'une personne de droit public et
			constitue un <a href="https://www.legifrance.gouv.fr/codes/article_lc/LEGIARTI000042193593/">
				délit</a>.
			<input class="mt-3 btn btn-primary" type="submit" name="submit" value="Valider la création d'un espace de dématérialisation"/>
		</div>
	</form>
</div>

{% endblock content %}
